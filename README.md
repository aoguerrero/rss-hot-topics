# RSS Hot Topics

## 1. Endpoints

This Spring Boot Project exposes two REST web services:

### /analyse/new

**HTTP Method: POST**

Takes two or more RSS as parameter, fetch their contents and analyse the
returned feeds identifying wich are the more frequent terms or hot topics
present in the titles, excluding words defined in the configuration
(application.properties) as stopwords or ignored words.

The results are saved and identified with an exeution ID, which is returned
for future query (using the /frequency/{execution} API)

#### Example payload

````
["https://news.google.com/news?cf=all&hl=en&pz=1&ned=us&output=rss", "https://rss.msn.com/en-us"]
````

#### Example result

````
862e6208-76e9-4dea-b46b-d888bebea492
````

## /frequency/{execution}

**HTTP Method: GET**

Receives an ID that references the results of a previous feed analysis and
returns the name of the three top hot topics with the titles and links which
contains the topic.

#### Example URL ###

````
http://localhost:8080/frequency/862e6208-76e9-4dea-b46b-d888bebea492
````

#### Output Structure

The results are present in JSON Format representing an Array of Hot Topics, the field *name* has the term text of the topic, 
the field *hotTopicsFeed* has an array of each feed that contains the topic with its title and link.

The service only returns the top three hot topics (unless the configuration parameter is changed), and the number of feeds
for each hot topic can be any.

This is the structure of the JSON Response:

````javascript
[
    {
        "name": String,
        "hotTopicFeeds": [
            {
                "title": String,
                "link": String
            }, ... 
        ]
    }, ...
]
````

## 2. Configuration Options

This application uses the standard Spring Boot `application.properties` for defining if parameters.

|Parameter key|Description|
|-------------|-----------|
|hottopics|Number of Hot Topics returned, default vaule is **3**|
|stopwords|Comma separated list of english stopwords removed from the text processed|
|ignoredwords|Comma separated list of words to be ignored from the text processed, can be literal or regular expression|
|spring.h2.console.enabled|Allow to access the H2 console (http://localhost:8080/h2-console), useful for querying the data of the in memory database, default value is **true**|
|spring.datasource.url|JDBC URL of the database, default vaule is **"jdbc:h2:mem:rssexercise"**|
|spring.datasource.driverClassName|JDBC Driver, default value is **"org.h2.Driver"**|
|spring.datasource.username|H2 Database User, default value is **"user"**|
|spring.datasource.password|H2 Database Password, default value is **"secret%"**|
|spring.jpa.show-sql|Shows or hide the SQL Statements generated by JPA, default value is **false**|
|spring.jpa.hibernate.ddl-auto|Tells JPA to create the schema at startup, default value is **"update"**|
|spring.jpa.properties.hibernate.dialect|SQL dialect for JPA, default value is **"org.hibernate.dialect.H2Dialect"**|

## 3. Installing and Running

### Prerequisites

- JDK 1.8
- Apache Maven 3.6.0+
- Direct Internet Connection

### Installing

Clone the repository:

````bash
git clone https://github.com/aoguerrero/rss-hot-topics.git
````

Get into the created directory

````bash
cd rss-hot-topics
````

## Running

Run without packaging

````bash
mvn spring-boot:run
````

Or package and run
````bash
mvn package
java -jar target\rss-hot-topics-1.0.jar
````


